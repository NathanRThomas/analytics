package anal

  //-------------------------------------------------------------------------//
 //----- IMPORTS -----------------------------------------------------------//
//-------------------------------------------------------------------------//

import (
    "fmt"
    "regexp"
    )

  //-------------------------------------------------------------------------//
 //----- CONSTANTS ---------------------------------------------------------//
//-------------------------------------------------------------------------//

  //-------------------------------------------------------------------------//
 //----- STRUCTS -----------------------------------------------------------//
//-------------------------------------------------------------------------//

  //-------------------------------------------------------------------------//
 //----- PRIVATE FUNCTIONS -------------------------------------------------//
//-------------------------------------------------------------------------//

  //-------------------------------------------------------------------------//
 //----- PUBLIC FUNCTIONS --------------------------------------------------//
//-------------------------------------------------------------------------//

/*! \brief Returns a new client for Google Analytics
 */
func NewGAClient (trackingID string) (*Client, error) {
    trackingIDRegex := regexp.MustCompile(`^UA-\d+-\d+$`)  //it needs to look like this
    
    //make sure it matches
    if !trackingIDRegex.MatchString(trackingID) {
        return nil, fmt.Errorf("Invalid Google Analytics Tracking ID: '%s'", trackingID)
    }
    
    //if we're here, we're good
    return &Client {
        trackingType: anal_tracking_type_ga,
        trackingID: trackingID,
    }, nil
}